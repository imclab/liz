<!doctype html>
<html>
<head>
  <title>Liz - easy scheduling</title>
  <link rel="shortcut icon" href="favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/node_modules/bootflat/bootflat/css/bootflat.min.css">
  <link rel="stylesheet" href="/node_modules/selectize/dist/css/selectize.bootstrap3.css">
  <link rel="stylesheet" href="app.css">

  <script src="/node_modules/jquery/dist/jquery.min.js"></script>
  <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="/node_modules/bootflat/bootflat/js/icheck.min.js"></script>
  <!--<script src="/node_modules/bootflat/bootflat/js/jquery.fs.selecter.min.js"></script>-->  <!-- this version is outdated -->
  <script src="/node_modules/bootflat/bootflat/js/jquery.fs.stepper.min.js"></script>
  <script src="/node_modules/selectize/dist/js/standalone/selectize.js"></script>
  <script src="/node_modules/juration/juration.js"></script>

  <script src="/node_modules/moment/min/moment.min.js"></script>
  <script src="/node_modules/lodash/dist/lodash.min.js"></script>
  <script src="/node_modules/promise-js/promise.js"></script>
  <script src="/node_modules/react/dist/react.js"></script>
  <script src="/node_modules/react/dist/JSXTransformer.js"></script>

  //<script src="assets/selectize/Selectize.old.jsx" type="text/jsx"></script>
  <script src="assets/selectize/Selectize.jsx" type="text/jsx"></script>

  <script type="text/jsx">
    var Test = React.createClass({
      getInitialState: function () {
        return {
          value: 'jos@almende.org',
          //value2: 'jos@almende.org',
          options: [{
            value: 'jos@almende.org',
            text: 'jos@almende.org'
          }]
        };
      },

      selectizeChange: function (value) {
        console.log('change', value)
      },

      setOptions: function () {
        this.setState({
          options: [
            {value:'jos@almende.org', text: 'Jos de Jong (@almende.org)'},
            {value:'wjosdejong@gmail.com', text: 'Jos de Jong (@gmail.com)'}
          ],
          value: 'jos@almende.org,wjosdejong@gmail.com'
        })
      },

      render: function () {
        console.log('State', this.state)
        return <div>
            <button onClick={this.setOptions}>Set Options</button>
            <p>
            value: <input value={this.state.value} onChange={function (event) {
              this.setState({value: event.target.value})
            }.bind(this)} />
            </p>
            <p>value: {this.state.value}</p>
            <p>
            <Selectize value={this.state.value} options={this.state.options} create="true" multiple="true" onChange={this.handleChange} />
            </p>
        </div>;
      },

      handleChange: function (value) {
        console.log('handleChange', value)

        //setTimeout(function () {
          this.setState({value: value})
        //}.bind(this), 1000)
      }

    });

    var app = React.render(<Test/>, document.getElementById('app'));

  </script>
</head>
<body>
<div id="page">
  <a id="header" href="/">
    <img src="img/calendar-icon.png" width="48" height="48" style="vertical-align: middle;"> Liz
  </a>
  <div id="app"></div>
</div>
</body>
</html>